(this.webpackJsonpvakaren=this.webpackJsonpvakaren||[]).push([[0],{29:function(e,t,a){e.exports=a.p+"static/media/no-image.5fb4e99e.png"},33:function(e,t,a){e.exports=a.p+"static/media/github.d22ee372.png"},35:function(e,t,a){e.exports=a(53)},46:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),s=a.n(r),o=a(14),i=a(16),u=a(8),l=a(12),m=a(34),E=a(32),p=a(5),v=function(){return{type:"GET_AUTH_TOKEN"}},d=function(){return{type:"GET_POPULAR_MOVIES"}},h=function(e){return{type:"RECEIVE_POPULAR_MOVIES",data:e}},f=function(e){return{type:"RECEIVE_MOVIE_SEARCH",data:e}},_=function(e){return{type:"RECEIVE_LATEST_MOVIE_SEARCH",data:e}},b=function(e){return{type:"REQUEST_SESSION_ID",data:e}},O=function(e){return{type:"RECEIVE_MOVIE_BY_ID",data:e}},g=function(e){return{type:"RECEIVE_MOVIE_VIDEOS",data:e}},S=function(e){return{type:"RECEIVE_MOVIE_POSTERS",data:e}},I=function(){return{type:"GET_ACCOUNT_DETAILS"}},T=function(e){return{type:"RECEIVE_ACCOUNT_DETAILS",data:e}},j=function(e){return{type:"RECEIVE_FAV_LIST",data:e}},R=function(e){return{type:"RECEIVE_WATCH_LIST",data:e}},y=function(){return{type:"RESET_SEARCH_RESULTS"}},x={apiToken:{},searchResults:{results:[]},searchHasResults:!1,isAuthenticated:!1,movieDetails:{},movieVideos:{},moviePosters:{},accountDetails:{}},k=Object(l.combineReducers)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.data;switch(a){case"RECEIVE_REQUEST_TOKEN":return Object(p.a)(Object(p.a)({},e),{},{apiToken:n});case"RECEIVE_POPULAR_MOVIES":return Object(p.a)(Object(p.a)({},e),{},{popularMovies:n});case"RECEIVE_MOVIE_SEARCH":return Object(p.a)(Object(p.a)({},e),{},{searchResults:n});case"RECEIVE_LATEST_MOVIE_SEARCH":return Object(p.a)(Object(p.a)({},e),{},{latestMovieResultId:n.id});case"REQUEST_SESSION_ID":return Object(p.a)(Object(p.a)({},e),{},{isAuthenticated:!!n});case"RECEIVE_MOVIE_BY_ID":return Object(p.a)(Object(p.a)({},e),{},{movieDetails:n});case"ADD_TO_LIST_RESPONSE":return Object(p.a)(Object(p.a)({},e),{},{favoriteMovies:Object(p.a)(Object(p.a)({},e.favoriteMovies),{},{data:n})});case"RECEIVE_API_DATA":return Object(p.a)(Object(p.a)({},e),{},{movieDetails:n});case"RECEIVE_MOVIE_VIDEOS":return Object(p.a)(Object(p.a)({},e),{},{movieVideos:n});case"RECEIVE_MOVIE_POSTERS":return Object(p.a)(Object(p.a)({},e),{},{moviePosters:n});case"RECEIVE_ACCOUNT_DETAILS":return Object(p.a)(Object(p.a)({},e),{},{accountDetails:n});case"RECEIVE_FAV_LIST":return Object(p.a)(Object(p.a)({},e),{},{userFavList:n});case"RECEIVE_WATCH_LIST":return Object(p.a)(Object(p.a)({},e),{},{userWatchList:n});case"RESET_SEARCH_RESULTS":return Object(p.a)(Object(p.a)({},e),{},{searchResults:x.searchResults});default:return e}}}),w=a(21),A=a(6),V=a.n(A),N=a(7),C=V.a.mark(Y),L=V.a.mark(K),D=V.a.mark($),M=V.a.mark(z),U=V.a.mark(X),P=V.a.mark(Z),G=V.a.mark(ee),H=V.a.mark(te),W=V.a.mark(ae),F=V.a.mark(ne),q=V.a.mark(ce),J="e5c773d40d5142e17f768f45190d5a5b",B=function(){fetch("https://api.themoviedb.org/3/authentication/token/new?api_key=".concat(J)).then((function(e){return e.json()})).then((function(e){var t=window.location,a=e.request_token;window.location="https://www.themoviedb.org/authenticate/".concat(a,"?redirect_to=").concat(t)})).catch((function(e){return console.log(e)}))},Q=function(e){var t="https://api.themoviedb.org/3/authentication/session/new?api_key=".concat(J),a=JSON.stringify({request_token:e.data});fetch(t,{method:"POST",body:a,headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e.success,a=e.session_id;t&&localStorage.setItem("vakaren_session_id",JSON.stringify({session_id:a}))})).catch((function(e){return console.log(e)}))};function Y(){var e,t,a;return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=JSON.parse(localStorage.getItem("vakaren_session_id")),n.prev=1,n.next=4,fetch("https://api.themoviedb.org/3/account?api_key=".concat(J,"&session_id=").concat(e.session_id));case 4:return t=n.sent,n.next=7,t.json();case 7:return a=n.sent,n.next=10,Object(N.a)(T(a));case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),console.log(n.t0);case 15:case"end":return n.stop()}}),C,null,[[1,12]])}function K(e){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(J));case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.next=9,Object(N.a)(h(a));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),L,null,[[0,11]])}function $(e){var t,a;return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(e.id,"?api_key=").concat(J));case 3:return t=n.sent,n.next=6,t.json();case 6:return a=n.sent,n.next=9,Object(N.a)(O(a));case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),D,null,[[0,11]])}function z(e){var t,a;return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(e.id,"/videos?api_key=").concat(J,"&language=en-US"));case 3:return t=n.sent,n.next=6,t.json();case 6:return a=n.sent,n.next=9,Object(N.a)(g(a));case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),M,null,[[0,11]])}function X(e){var t,a;return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(e.id,"/images?api_key=").concat(J,"&language=en-US&include_image_language=en,null"));case 3:return t=n.sent,n.next=6,t.json();case 6:return a=n.sent,n.next=9,Object(N.a)(S(a));case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),U,null,[[0,11]])}function Z(e){var t,a;return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(J,"&language=en-US&query=").concat(e.query,"&page=").concat(e.page,"&include_adult=false"));case 3:return t=n.sent,n.next=6,t.json();case 6:return a=n.sent,n.next=9,Object(N.a)(f(a));case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),P,null,[[0,11]])}function ee(){var e,t;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("https://api.themoviedb.org/3/movie/latest?api_key=".concat(J,"&language=en-US"));case 3:return e=a.sent,a.next=6,e.json();case 6:return t=a.sent,a.next=9,Object(N.a)(_(t));case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0);case 14:case"end":return a.stop()}}),G,null,[[0,11]])}function te(e){var t,a,n,c,r,s,o,i;return V.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.accountId,a=e.movieId,n=e.listType,e.type,u.prev=1,c=JSON.parse(localStorage.getItem("vakaren_session_id")),r="https://api.themoviedb.org/3/account/".concat(t,"/").concat(n,"?api_key=").concat(J,"&session_id=").concat(c.session_id),s=JSON.stringify(Object(w.a)({media_type:"movie",media_id:a},n,!0)),u.next=7,fetch(r,{method:"POST",body:s,headers:{"Content-Type":"application/json;charset=utf-8"}});case 7:return o=u.sent,u.next=10,o.json();case 10:if(i=u.sent,!i.success){u.next=17;break}return u.next=15,Object(N.a)({type:"ADD_TO_LIST_RESPONSE",data:{movieId:a,favorited:!0}});case 15:u.next=18;break;case 17:console.log("Action failed");case 18:u.next=23;break;case 20:u.prev=20,u.t0=u.catch(1),console.log(u.t0);case 23:case"end":return u.stop()}}),H,null,[[1,20]])}function ae(e){var t,a,n,c;return V.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.accountId,a=JSON.parse(localStorage.getItem("vakaren_session_id")),r.prev=2,r.next=5,fetch("https://api.themoviedb.org/3/account/".concat(t,"/favorite/movies?api_key=").concat(J,"&language=en-US&session_id=").concat(a.session_id,"&sort_by=created_at.asc&page=1"));case 5:return n=r.sent,r.next=8,n.json();case 8:return c=r.sent,r.next=11,Object(N.a)(j(c));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(2),console.log(r.t0);case 16:case"end":return r.stop()}}),W,null,[[2,13]])}function ne(e){var t,a,n,c;return V.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.accountId,a=JSON.parse(localStorage.getItem("vakaren_session_id")),r.prev=2,r.next=5,fetch("https://api.themoviedb.org/3/account/".concat(t,"/watchlist/movies?api_key=").concat(J,"&language=en-US&session_id=").concat(a.session_id,"&sort_by=created_at.asc&page=1"));case 5:return n=r.sent,r.next=8,n.json();case 8:return c=r.sent,r.next=11,Object(N.a)(R(c));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(2),console.log(r.t0);case 16:case"end":return r.stop()}}),F,null,[[2,13]])}function ce(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.b)("GET_AUTH_TOKEN",B);case 2:return e.next=4,Object(N.b)("GET_POPULAR_MOVIES",K);case 4:return e.next=6,Object(N.b)("GET_SEARCH_RESULT",Z);case 6:return e.next=8,Object(N.b)("GET_LATEST_MOVIE_SEARCH",ee);case 8:return e.next=10,Object(N.b)("REQUEST_SESSION_ID",Q);case 10:return e.next=12,Object(N.b)("GET_MOVIE_BY_ID",$);case 12:return e.next=14,Object(N.b)("GET_MOVIE_VIDEOS",z);case 14:return e.next=16,Object(N.b)("GET_MOVIE_POSTERS",X);case 16:return e.next=18,Object(N.b)("GET_ACCOUNT_DETAILS",Y);case 18:return e.next=20,Object(N.b)("ADD_TO_LIST",te);case 20:return e.next=22,Object(N.b)("GET_FAV_LIST",ae);case 22:return e.next=24,Object(N.b)("GET_WATCH_LIST",ne);case 24:case"end":return e.stop()}}),q)}var re=Object(m.a)(),se=Object(l.createStore)(k,Object(E.composeWithDevTools)(Object(l.applyMiddleware)(re)));re.run(ce);var oe=a(22),ie=a(23),ue=(a(46),Object(u.f)(Object(o.b)((function(e){return{searchResults:Object(ie.get)(e,"data.searchResults.results",[]),accountDetails:e.data.accountDetails||{},latestMovieResultId:e.data.latestMovieResultId,userFavList:Object(ie.get)(e,"data.userFavList.results",[]),userWatchList:Object(ie.get)(e,"data.userWatchList.results",[])}}),(function(e){return{requestSearchResultAction:function(t,a){return e(function(e,t){return{type:"GET_SEARCH_RESULT",query:e,page:t}}(t,a))},requestLatestMovieSearch:function(){return e({type:"GET_LATEST_MOVIE_SEARCH"})},getAccountDetails:function(){return e({type:"GET_ACCOUNT_DETAILS"})},getFavList:function(t){return e(function(e){return{type:"GET_FAV_LIST",accountId:e}}(t))},getWatchList:function(t){return e(function(e){return{type:"GET_WATCH_LIST",accountId:e}}(t))},resetSearchResults:function(){return e({type:"RESET_SEARCH_RESULTS"})}}}))((function(e){var t=e.history,a=e.accountDetails,r=e.requestSearchResultAction,s=e.requestLatestMovieSearch,o=e.searchResults,i=e.getFavList,u=e.getWatchList,l=e.getAccountDetails,m=e.latestMovieResultId,E=e.resetSearchResults,p=e.userFavList,v=e.userWatchList,d=Object(n.useState)(""),h=Object(oe.a)(d,2),f=h[0],_=h[1],b=JSON.parse(localStorage.getItem("vakaren_session_id"));Object(n.useEffect)((function(){return b&&l(),s(),function(){E()}}),[]),Object(n.useEffect)((function(){b&&i(a.id,"favorite"),b&&u(a.id,"watchlist")}),[a]);p.length>0&&v.length,o&&o.length;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"input-field col s12 searchbar"},c.a.createElement("form",{"data-test":"component-search-form",onSubmit:function(e){e.preventDefault();var t=encodeURIComponent(f.trim());""!==t&&r(t,1)}},c.a.createElement("input",{placeholder:"Type a movie name....",id:"search",type:"text",className:"validate",onChange:function(e){_(e.target.value)}}),c.a.createElement("div",{className:"buttons-container"},c.a.createElement("button",{type:"submit",className:"waves-effect waves-light btn light-blue"},"Search"),c.a.createElement("span",{type:"submit",className:"waves-effect waves-light btn light-blue",onClick:function(){return function(){var e=Math.floor(Math.random()*m)+1;t.push("/movie/".concat(e))}()}},"I feel lucky")))),c.a.createElement("div",{className:"row"}))})))),le=(a(48),a(33)),me=a.n(le),Ee=(a(49),function(){return c.a.createElement("div",{className:"contact"},c.a.createElement("a",{href:"https://www.github.com/gokhanipek"},c.a.createElement("img",{alt:"github",className:"contact-image",src:me.a})))}),pe=Object(u.f)(Object(o.b)((function(e){return{searchResults:e.data.searchResults.results||null}}),(function(e){return Object(l.bindActionCreators)({getAuthTokenAction:v,getPopularMoviesAction:d,requestSessionId:b,getAccountDetails:I,resetSearchResults:y},e)}))((function(e){e.getAuthTokenAction;var t=e.location,a=e.searchResults,r=e.requestSessionId;e.resetSearchResults;Object(n.useEffect)((function(){var e=(t.search.includes("approved=true")?s():{}).request_token;r(e)}),[]);JSON.parse(localStorage.getItem("vakaren_session_id"));var s=function(){if(""===t.search)return null;var e=t.search.substring(1).split("&"),a={};return e.map((function(e){var t=e.split("="),n=Object(oe.a)(t,2),c=n[0],r=n[1];a[c]=r})),a};return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"home-wrapper ".concat(a.length>0?"top":"bottom")},c.a.createElement(ue,null),c.a.createElement(Ee,null)))}))),ve=a(29),de=a.n(ve),he=(a(50),a(51),Object(u.f)(Object(o.b)((function(e){return{movieDetails:e.data.movieDetails,moviePosters:e.data.moviePosters.posters,movieBackdrops:e.data.moviePosters.backdrops,movieVideos:e.data.movieVideos.results}}),(function(e){return{getMovieById:function(t){return e(function(e){return{type:"GET_MOVIE_BY_ID",id:e}}(t))},getMovieVideos:function(t){return e(function(e){return{type:"GET_MOVIE_VIDEOS",id:e}}(t))},getMoviePosters:function(t){return e(function(e){return{type:"GET_MOVIE_POSTERS",id:e}}(t))},getAccountDetails:function(){return e({type:"GET_ACCOUNT_DETAILS"})},resetSearchResults:function(){return e({type:"RESET_SEARCH_RESULTS"})}}}))((function(e){var t=e.getMovieById,a=e.getMovieVideos,r=e.match,s=e.getMoviePosters,o=e.movieDetails,i=e.moviePosters,u=e.movieVideos;e.resetSearchResults;Object(n.useEffect)((function(){var e=r.params.id;t(e),a(e),s(e)}),[]);var l=o.id,m=o.poster_path,E=o.title,p=o.runtime,v=o.tagline,d=o.overview,h=o.genres,f=o.release_date,_=o.homepage,b={backgroundImage:m?"url(https://image.tmdb.org/t/p/w500/".concat(m,")"):"url(".concat(de.a,")")};return c.a.createElement(c.a.Fragment,null,l?c.a.createElement("div",{className:"movie-container"},c.a.createElement("div",{className:"jumbotron",style:b},c.a.createElement("span",{className:"jumbotron-overlay"}),c.a.createElement("div",{className:"jumbotron-right-side"},c.a.createElement("p",{className:"title"},E),p&&c.a.createElement("p",{className:"movie-info runtime"},"Runtime: ",p," mins"),v&&c.a.createElement("p",{className:"movie-info tagline"},"Tagline:  ",v),d&&c.a.createElement("p",{className:"movie-info overview"},"Overview: ",d),_&&c.a.createElement("p",{className:"movie-info website"},c.a.createElement("a",{href:_,target:"_blank",rel:"noopener noreferrer"},"Website")),h&&c.a.createElement("p",{className:"movie-info genres"},h&&h.map((function(e){return c.a.createElement("span",{key:e.id,className:"bubble"},e.name)}))," "),f&&c.a.createElement("p",{className:"movie-info release-date"},"Release Date: ",f))),c.a.createElement("div",{className:"video-container"},c.a.createElement("h3",{className:"carousel-title"},"Videos"),u&&u.length>0?u.map((function(e,t){return c.a.createElement("iframe",{className:"movie-video",src:"https://www.youtube.com/embed/".concat(e.key),frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0,title:"video",key:t})})):c.a.createElement("div",{className:"no-such-movie"}," This movie has no videos available. ")),c.a.createElement("div",{className:"image-container"},c.a.createElement("h3",{className:"carousel-title"},"Posters"),c.a.createElement("div",{className:"images"},i&&i.length>0?i.map((function(e,t){return c.a.createElement("img",{className:"movie-posters",alt:"poster",key:t,src:"https://image.tmdb.org/t/p/w500".concat(e.file_path)})})):c.a.createElement("div",{className:"no-such-movie"}," This movie has no posters available. ")))):c.a.createElement("div",{className:"no-such-movie"}," ",c.a.createElement("img",{alt:"noimage",src:de.a})," There is no such movie. Please go back to search. "))})))),fe=function(){return c.a.createElement(o.a,{store:se},c.a.createElement(i.a,null,c.a.createElement(u.c,null,c.a.createElement(u.a,{exact:!0,path:"/"},c.a.createElement(pe,null)),c.a.createElement(u.a,{path:"/movie/:id",component:he}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(52);s.a.render(c.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.80a0ad17.chunk.js.map